var enableInlineVideo=function(){"use strict";function a(a,b,c,d){function g(c){e=b(g,d),a(c-(f||c)),f=c}var e,f;return{start:function(){e||g(0)},stop:function(){c(e),e=null,f=0}}}function b(b){return a(b,requestAnimationFrame,cancelAnimationFrame)}function c(a,b,c,d){function e(b){Boolean(a[c])===Boolean(d)&&b.stopImmediatePropagation(),delete a[c]}return a.addEventListener(b,e,!1),e}function d(a,b,c,d){function e(){return c[b]}function f(a){c[b]=a}d&&f(a[b]),Object.defineProperty(a,b,{get:e,set:f})}function e(a,b,c){c.addEventListener(b,function(){return a.dispatchEvent(new Event(b))})}function f(a,b){Promise.resolve().then(function(){a.dispatchEvent(new Event(b))})}function l(a){var b=new Audio;return e(a,"play",b),e(a,"playing",b),e(a,"pause",b),b.crossOrigin=a.crossOrigin,b.src=a.src||a.currentSrc||"data:",b}function p(a,b,c){(o||0)+200<Date.now()&&(a[i]=!0,o=Date.now()),c||(a.currentTime=b),m[++n%3]=100*b|0}function q(a){return a.driver.currentTime>=a.video.duration}function r(a){var b=this;b.video.readyState>=b.video.HAVE_FUTURE_DATA?(b.hasAudio||(b.driver.currentTime=b.video.currentTime+a*b.video.playbackRate/1e3,b.video.loop&&q(b)&&(b.driver.currentTime=0)),p(b.video,b.driver.currentTime)):b.video.networkState===b.video.NETWORK_IDLE&&0===b.video.buffered.length&&b.video.load(),b.video.ended&&(delete b.video[i],b.video.pause(!0))}function s(){var a=this,b=a[h];if(a.fullscreenElement)return void a[j]();"data:"!==b.driver.src&&b.driver.src!==a.src&&(p(a,0,!0),b.driver.src=a.src),a.paused&&(b.paused=!1,0===a.buffered.length&&a.load(),b.driver.play(),b.updater.start(),b.hasAudio||(f(a,"play"),b.video.readyState>=b.video.HAVE_ENOUGH_DATA&&f(a,"playing")))}function t(a){var b=this,c=b[h];c.driver.pause(),c.updater.stop(),b.fullscreenElement&&b[k](),c.paused&&!a||(c.paused=!0,c.hasAudio||f(b,"pause"),b.ended&&(b[i]=!0,f(b,"ended")))}function u(a,c){var d=a[h]={};d.paused=!0,d.hasAudio=c,d.video=a,d.updater=b(r.bind(d)),c?d.driver=l(a):(a.addEventListener("canplay",function(){a.paused||f(a,"playing")}),d.driver={src:a.src||a.currentSrc||"data:",muted:!0,paused:!0,pause:function(){d.driver.paused=!0},play:function(){d.driver.paused=!1,q(d)&&p(a,0)},get ended(){return q(d)}}),a.addEventListener("emptied",function(){var b=!d.driver.src||"data:"===d.driver.src;d.driver.src&&d.driver.src!==a.src&&(p(a,0,!0),d.driver.src=a.src,b?d.driver.play():d.updater.stop())},!1),a.addEventListener("webkitbeginfullscreen",function(){a.paused?c&&0===d.driver.buffered.length&&d.driver.load():(a.pause(),a[j]())}),c&&(a.addEventListener("webkitendfullscreen",function(){d.driver.currentTime=a.currentTime}),a.addEventListener("seeking",function(){m.indexOf(100*a.currentTime|0)<0&&(d.driver.currentTime=a.currentTime)}))}function v(a){var b=a[h];a[j]=a.play,a[k]=a.pause,a.play=s,a.pause=t,d(a,"paused",b.driver),d(a,"muted",b.driver,!0),d(a,"playbackRate",b.driver,!0),d(a,"ended",b.driver),d(a,"loop",b.driver,!0),c(a,"seeking"),c(a,"seeked"),c(a,"timeupdate",i,!1),c(a,"ended",i,!1)}function w(a,b){if(void 0===b&&(b={}),!a[h]){if(!b.everywhere){if(!g)return;if(!(b.iPad||b.ipad?/iPhone|iPod|iPad/:/iPhone|iPod/).test(navigator.userAgent))return}!a.paused&&a.fullscreenElement&&a.pause(),u(a,!a.muted),v(a),a.classList.add("IIV"),a.muted&&a.autoplay&&a.play(),/iPhone|iPod|iPad/.test(navigator.platform)||console.warn("iphone-inline-video is not guaranteed to work in emulated environments")}}var o,g="object"==typeof document&&"object-fit"in document.head.style&&!matchMedia("(-webkit-video-playable-inline)").matches,h="bfred-it:iphone-inline-video",i="bfred-it:iphone-inline-video:event",j="bfred-it:iphone-inline-video:nativeplay",k="bfred-it:iphone-inline-video:nativepause",m=[],n=0;return w}();